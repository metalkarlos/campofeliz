<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
      
	<h:form id="form-contentpage" prependId="false">
		<p:growl id="mensajes" showDetail="true" />
		<p:panel id="panel-buscarmascota">
			<h2>B&uacute;squeda Avanzada</h2>
			<hr />
			<br />
			<p:focus for="idnombre"/>
			<p:panelGrid id="panelgridcriterios" styleClass="gridcriterios">
				<p:row>
					<p:column style="width: 100px">
						<h:outputLabel value="Nombre:" />
					</p:column>
					<p:column>
						<p:inputText id="idnombre" value="#{buscarMascotaBean.petmascota.nombre}" style="width: 400px" />
					</p:column>
					<p:column>
						<h:outputText value="*Escriba el nombre de la mascota" style="font-style: italic;" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h2> Otros datos</h2>
					</p:column>
					<p:column></p:column>
					<p:column></p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="Caracter&iacute;sticas:" />
					</p:column>
					<p:column>
						<p:inputText value="#{buscarMascotaBean.caracteristicas}" style="width: 400px" />
					</p:column>
					<p:column>
						<h:outputText value="*Separe con espacios &uacute;nicamente cada palabra" style="font-style: italic;" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="Especie:" />
					</p:column>
					<p:column>
						<p:selectOneMenu id="idtipolist" value="#{buscarMascotaBean.petmascota.petespecie.idespecie}" style="width: 400px">
							<f:selectItem itemLabel="Todos" />
						    <f:selectItems value="#{buscarMascotaBean.lisPetespecie}" var="tipo" itemLabel="#{tipo.nombre}" itemValue="#{tipo.idespecie}"/>
						</p:selectOneMenu>
					</p:column>
					<p:column>
						<h:outputText value="*Seleccione la especie" style="font-style: italic;" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="Raza:" />
					</p:column>
					<p:column>
						<p:selectOneMenu id="idrazalist" value="#{buscarMascotaBean.petmascota.petraza.idraza}" style="width: 150px" >
							<f:selectItem itemLabel="Todos" />
						    <f:selectItems value="#{buscarMascotaBean.lisPetraza}" var="raza" itemLabel="#{raza.nombre}" itemValue="#{raza.idraza}"/>
						</p:selectOneMenu>
					</p:column>
					<p:column>
						<h:outputText value="*Seleccione la raza de la mascota" style="font-style: italic;" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<h:outputLabel value="Sexo:" />
					</p:column>
					<p:column>
						<p:selectOneMenu id="idsexolist" value="#{buscarMascotaBean.petmascota.sexo}" >
							<f:selectItem itemLabel="Todos" itemValue="0" />
			                <f:selectItem itemLabel="Macho" itemValue="1" />
			                <f:selectItem itemLabel="Hembra" itemValue="2" />
			            </p:selectOneMenu>
					</p:column>
					<p:column>
						<h:outputText value="*Seleccione el sexo de la mascota" style="font-style: italic;" />
					</p:column>
				</p:row>
			</p:panelGrid>
			<center>
			<p:commandButton value="Buscar" actionListener="#{buscarMascotaBean.buscarMascotas()}" update=":form-contentpage:idGridResultado" />
			</center>
			<br />
			<p:dataGrid id="idGridResultado" var="pet" value="#{buscarMascotaBean.lisMascotas}" columns="#{buscarMascotaBean.columnsGrid}" rows="#{buscarMascotaBean.rowsGrid}" paginator="true" effect="true"
				paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
				emptyMessage="No se encontraron registros">
				<p:column>
					<p:panel>
						<table>
						<tr>
						<td width="200px" align="center" bgcolor="#eaeaea">
						<h:link title="Ver Informaci&oacute;n" outcome="mascota.jsf">
							<f:param name="idmascota" value="#{pet.petmascota.idmascota}" /> 
							<f:param name="tipo" value="#{pet.petmascota.petespecie.idespecie}" />
							<p:graphicImage id="idfoto" value="#{pet.petfoto.ruta}" style="max-height: 100px" />
						</h:link>
						</td>
						<td>
							<h:outputText value="Nombre: " style="font-weight: bold;" /><br />
							<h:link id="idnombremascota" outcome="mascota.jsf" value="#{pet.petmascota.nombre}" style="text-transform: capitalize;">
								<f:param name="idmascota" value="#{pet.petmascota.idmascota}" /> 
								<f:param name="tipo" value="#{pet.petmascota.petespecie.idespecie}" />
							</h:link><br />
							<h:outputText value="Caracter&iacute;sticas:" style="font-weight: bold;" /><br />
							<h:outputText value="#{pet.petmascota.caracteristicas}" />
						</td>
						</tr>
						</table>
					</p:panel>
				</p:column>
		
			</p:dataGrid>
		</p:panel>
	</h:form>
</ui:composition>
